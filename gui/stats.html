<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" href="./static/css/styles.css">
    <link rel="stylesheet" type="text/css" href="./static/css/font-awesome.min.css">
    <title>Encrypted File Vault System ~ Statistics Page</title>
</head>

<body background="./static/img/blur_background.jpg">
    <div class="vault_panel" >
        <h1 style="text-align: center; color: dimgray;" >Vault Statistics Page</h1>
        <div class="stats_panel" style="overflow-x: auto">
            <div class="usage_panel">
                <div style="width:100%;height:100%;" id="pie-chart"></div>
            </div>
            <div style="border:2px dotted #709198;float:left;height:360px;margin-left: 344px;margin-top: 20px;"></div>
            <div class="record_panel" style="float: left;">
                <div style="width:100%;height:100%;" id="pop-chart"></div>
            </div>
        </div>
        <div class="home_panel">
            <a href="home.html" title="Home Page">
                <i class="fa fa-home" style="font-size: 36px;color: rgb(54,54,54);"></i>
            </a>
        </div>
        <div class="help_panel">
            <a href="info.html" title="Usage Guide">
                <i class="fa fa-question-circle" style="font-size: 35px;color: rgb(54,54,54);"></i>
            </a>
        </div>
        <div class="pie_panel">
            <a href="stats.html" title="Vault Statistics">
                <i class="fa fa-bar-chart" style="font-size: 32px;color: rgb(54,54,54);"></i>
            </a>
        </div>
        <div class="logout_panel">
            <a href="login.html" title="Logout">
                <i class="fa fa-sign-out" style="font-size: 36px;color: rgb(54,54,54);"></i>
            </a>
        </div>
    </div>
</body>

<script type="text/javascript">
    var echarts = require('echarts');
    var chartDom = document.getElementById('pie-chart');
    var myChart = echarts.init(chartDom);

    var option;

    option = {
        title: {
            text: 'Current Vault Usage',
            left: 'center',
            top:20,
            textStyle:{
                color:'#363636',
                fontWeight:'bolder',
                fontSize:20,
            }
            
        },
        tooltip: {
            trigger: 'item',
            formatter: function (params){
                console.log(params);
                return "Vault Usage: <br>" + "Category: " + params.name + 
                    "<br> Size: " + params.value + " MB <br>" + 
                    "Percent: "+ params.percent + " %";
            }
        },
        legend: {
            orient: 'horizontal',
            x: 'center',
            y: '330px',
            textStyle:{
                fontSize:14,
                fontWeight:'bolder'
            }
        },
        series: [
            {
            name: 'Vault Usage',
            type: 'pie',
            radius: '62%',
            center:['50%','45%'],
            startAngle: '90',
            color: ['#10344A','#709198', '#83CFCF', '#44A9B1','#B5B5B5'],
            data: [
                { 
                    value: 1600, name: 'Docs', 
                    itemStyle: {shadowBlur: '10',shadowColor: 'rgba(0,0,0,0.8)',shadowOffsetY: '5'},
                },
                { 
                    value: 750, name: 'Archives', 
                    itemStyle: {shadowBlur: '10',shadowColor: 'rgba(0,0,0,0.8)',shadowOffsetY: '5'},
                },
                { 
                    value: 800, name: 'Videos',
                    itemStyle: {shadowBlur: '10',shadowColor: 'rgba(0,0,0,0.8)',shadowOffsetY: '5'},
                },
                { 
                    value: 900, name: 'Others',
                    itemStyle: {shadowBlur: '10',shadowColor: 'rgba(0,0,0,0.8)',shadowOffsetY: '5'},
                },
                { 
                    value: 1400, name: 'Unused',
                    itemStyle: {shadowBlur: '10',shadowColor: 'rgba(0,0,0,0.8)',shadowOffsetY: '5'},
                },
            ],
            emphasis: {
                itemStyle: {
                shadowBlur: 10,
                shadowOffsetX: 0,
                shadowColor: 'rgba(0, 0, 0, 0.5)'
                }
            },
            label:{
                textStyle:{
                    fontSize:14,
                    fontWeight:'bolder',
                }
            },
            animationDuration: 2500,
            animationEasing: "cubicInOut",
            }
        ]
    };

    option && myChart.setOption(option);
</script>

<script type="text/javascript">
    var echarts = require('echarts');
    var chartDom = document.getElementById('pop-chart');
    var myChart = echarts.init(chartDom);
    var option;
    const data_Docs = [
    [1, 156, 'file1.docx'],
    [3, 178, 'file2.docx'],
    [4, 106, 'file3.docx'],
    [6, 87, 'file4.docx'],
    [7, 75, 'file5.docx'],
    ];
    const data_Archives = [
    [1, 303, 'dataset1.zip'],
    [2, 185, 'dataset2.zip'],
    [4, 321, 'dataset3.zip'],
    [5, 241, 'dataset4.zip'],
    [7, 164, 'dataset5.zip'],
    ];
    const data_Videos = [
    [1, 125, 'movie1.mp4'],
    [2, 265, 'movie2.mp4'],
    [3, 183, 'movie3.mp4'],
    [4, 409, 'movie4.mp4'],
    [7, 102, 'movie5.mp4'],
    ];

    const data_Others = [
    [2, 209, 'else.pptx'],
    [3, 165, 'else.xls'],
    [4, 83, 'else.md'],
    [5, 165, 'else.png'],
    [6, 107, 'else.pdf'],
    ];

    const itemStyle = {
    opacity: 0.8,
    shadowBlur: 10,
    shadowOffsetX: 0,
    shadowOffsetY: 0,
    shadowColor: 'rgba(0,0,0,0.3)'
    };

    option = {
        title: {
            text: 'Vault Upload Record',
            left: 'center',
            top:20,
            textStyle:{
                color:'#363636',
                fontWeight:'bolder',
                fontSize:20,
            }
            
        },

        color: ['#10344A','#709198', '#83CFCF', '#44A9B1'],

        legend: {
            bottom: 15,
            data: ['Docs', 'Archives', 'Videos', 'Others'],
            textStyle: {
                fontSize: 15,
                fontWeight: 'bolder',
            }
        },

        grid: {
            left: '10%',
            right:'10%',
            top: '18%',
            bottom: '18%'
        },

        tooltip: {
            backgroundColor: 'rgba(255,255,255,0.7)',
            formatter: function (param) {
            var value = param.value;

            return '<div style="font-size: 16px; font-weight:900; padding-bottom: 7px;margin-bottom: 2px; color:dimgray">'
                        + 'Day' + value[0] + ': <br>' 
                        + 'File Name: ' + value[2] + '<br>'
                        + 'Category: ' + param.seriesName + '<br>'
                        + 'File Size: ' + value[1] + ' MB'
                        '</div>'
            }
        },
        xAxis: {
            type: 'value',
            nameGap: 16,
            nameTextStyle: {
            fontSize: 16
            },
            max: 7,
            splitLine: {
            show: false
            }
        },
        yAxis: {
            type: 'value',
            min:0,
            max:512,
            name: 'Size / MB',
            nameLocation: 'end',
            nameGap: 10,
            nameTextStyle: {
            fontSize: 14,
            fontWeight: 'bolder',
            },
            splitLine: {
            show: false
            }
        },
        visualMap: [
            {
            show:false,
            dimension: 1,
            min: 0,
            max: 512,
            itemWidth: 30,
            itemHeight: 120,
            calculable: true,
            precision: 0.1,
            textGap: 30,
            inRange: {
                symbolSize: [10, 60]
            },
            outOfRange: {
                symbolSize: [10, 60],
                color: ['rgba(255,255,255,0.4)']
            },
            controller: {
                inRange: {
                color: ['#c23531']
                },
                outOfRange: {
                color: ['#999']
                }
            }
            },
        ],
        series: [
            {
            name: 'Docs',
            type: 'scatter',
            itemStyle: itemStyle,
            data: data_Docs
            },
            {
            name: 'Archives',
            type: 'scatter',
            itemStyle: itemStyle,
            data: data_Archives
            },
            {
            name: 'Videos',
            type: 'scatter',
            itemStyle: itemStyle,
            data: data_Videos
            },
            {
            name: 'Others',
            type: 'scatter',
            itemStyle: itemStyle,
            data: data_Others
            },
        ],
        animationDuration: 2000,
        animationEasing: "cubicInOut",
    };

    option && myChart.setOption(option);

</script>
</html>